(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{468:function(s,t,a){"use strict";a.r(t);var n=a(26),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("è¯¥åŠŸèƒ½ä¾èµ– "),a("code",[s._v("p6spy")]),s._v(" ç»„ä»¶ï¼Œå®Œç¾çš„è¾“å‡ºæ‰“å° SQL åŠæ‰§è¡Œæ—¶é•¿ "),a("code",[s._v("3.1.0")]),s._v(" ä»¥ä¸Šç‰ˆæœ¬")])]),s._v(" "),a("p",[s._v("ç¤ºä¾‹å·¥ç¨‹ï¼š")]),s._v(" "),a("p",[s._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-crud",target:"_blank",rel:"noopener noreferrer"}},[s._v("mybatis-plus-sample-crud"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("p6spy ä¾èµ–å¼•å…¥")])]),s._v(" "),a("p",[s._v("Mavenï¼š")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("p6spy"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("p6spy"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("æœ€æ–°ç‰ˆæœ¬"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("Gradleï¼š")]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("compile group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p6spy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p6spy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æœ€æ–°ç‰ˆæœ¬'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("application.yml é…ç½®ï¼š")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("datasource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("driver-class-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" com.p6spy.engine.spy.P6SpyDriver\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("p6spy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("h2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("mem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("test\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("spy.properties é…ç½®ï¼š")])]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.2.1ä»¥ä¸Šä½¿ç”¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("modulelist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("com.baomidou.mybatisplus.extension.p6spy.MybatisPlusLogFactory,com.p6spy.engine.outage.P6OutageFactory")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.2.1ä»¥ä¸‹ä½¿ç”¨æˆ–è€…ä¸é…ç½®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#modulelist=com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰æ—¥å¿—æ‰“å°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("logMessageFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("com.baomidou.mybatisplus.extension.p6spy.P6SpyLogger")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("appender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("com.baomidou.mybatisplus.extension.p6spy.StdoutLogger")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿè®°å½• sql")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#appender=com.p6spy.engine.spy.appender.Slf4JLogger")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½® p6spy driver ä»£ç†")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("deregisterdrivers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å–æ¶ˆJDBC URLå‰ç¼€")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("useprefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®è®°å½• Log ä¾‹å¤–,å¯å»æ‰çš„ç»“æœé›†æœ‰error,info,batch,debug,statement,commit,rollback,result,resultset.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("excludecategories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("info,debug,result,commit,resultset")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ—¥æœŸæ ¼å¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dateformat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("yyyy-MM-dd HH:mm:ss")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®é™…é©±åŠ¨å¯å¤šä¸ª")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#driverlist=org.h2.Driver")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¯å¦å¼€å¯æ…¢SQLè®°å½•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("outagedetection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ…¢SQLè®°å½•æ ‡å‡† 2 ç§’")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("outagedetectioninterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("æ³¨æ„ï¼")]),s._v(" "),a("ul",[a("li",[s._v("driver-class-name ä¸º p6spy æä¾›çš„é©±åŠ¨ç±»")]),s._v(" "),a("li",[s._v("url å‰ç¼€ä¸º jdbc:p6spy è·Ÿç€å†’å·ä¸ºå¯¹åº”æ•°æ®åº“è¿æ¥åœ°å€")]),s._v(" "),a("li",[s._v("æ‰“å°å‡º sql ä¸º null,åœ¨ excludecategories å¢åŠ  commit")]),s._v(" "),a("li",[s._v("æ‰¹é‡æ“ä½œä¸æ‰“å° sql,å»é™¤ excludecategories ä¸­çš„ batch")]),s._v(" "),a("li",[s._v("æ‰¹é‡æ“ä½œæ‰“å°é‡å¤çš„é—®é¢˜è¯·ä½¿ç”¨ MybatisPlusLogFactory (3.2.1 æ–°å¢ï¼‰")]),s._v(" "),a("li",[s._v("è¯¥æ’ä»¶æœ‰æ€§èƒ½æŸè€—ï¼Œä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);