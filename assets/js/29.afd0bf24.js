(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{472:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://space.bilibili.com/212983666/channel/collectiondetail?sid=606288"}},[a("img",{attrs:{src:"https://minio.pigx.vip/oss/1659603809.png"}})])]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://space.bilibili.com/212983666/channel/collectiondetail?sid=606288",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…è´¹è§†é¢‘æ•™ç¨‹"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("mybatis-mate ä¸º mp ä¼ä¸šçº§æ¨¡å—ï¼Œæ—¨åœ¨æ›´æ•æ·ä¼˜é›…å¤„ç†æ•°æ®ã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("mybatis-mate ç¤ºä¾‹ ï¼š"),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¼ é€é—¨"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("è”ç³»ä½œè€…ç¡®è®¤åå¾®ä¿¡å…¬ä¼—å·å‘æ–‡ä»‹ç» mybatis-mate çš„è½¯æ–‡ï¼Œå¯å…è´¹è·å¾—æ°¸ä¹…ä¸ªäººæˆæƒè¯ä¹¦")])]),t._v(" "),a("li",[a("p",[t._v("è¯¥æ¨¡å—å±äº mybatis ï¼ˆMPï¼‰ çš„æ‰©å±•åº“ï¼Œé mp çš„æ”¶è´¹ç‰ˆæœ¬ï¼Œä»»ä½•é—®é¢˜ç”± "),a("code",[t._v("é’è‹—")]),t._v(" ä¸ªäººè´Ÿè´£ã€‚")])])])]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://space.bilibili.com/212983666/channel/collectiondetail?sid=606288",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…è´¹è§†é¢‘æ•™ç¨‹"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"æ•°æ®å®¡è®¡-å¯¹è´¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®å®¡è®¡-å¯¹è´¦"}},[t._v("#")]),t._v(" æ•°æ®å®¡è®¡ï¼ˆå¯¹è´¦ï¼‰")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-audit",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-audit"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("å¯¹æ¯”ä¸¤å¯¹è±¡å±æ€§å·®å¼‚ï¼Œä¾‹å¦‚ï¼šé“¶è¡Œæµæ°´å¯¹è´¦ã€‚")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1ï¼Œå¼‚æ­¥å›è°ƒï¼Œæ³¨æ„ @EnableAsync å¼€å¯å¼‚æ­¥")]),t._v("\n applicationEventPublisher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("publishEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataAuditEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Change")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" changes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVersion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVersion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Change")]),t._v(" valueChange "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" changes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValueChange")]),t._v(" change "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValueChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" valueChange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%sä¸åŒ¹é…ï¼ŒæœŸæœ›å€¼ %s å®é™…å€¼ %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPropertyName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLeft")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2ï¼Œæ‰‹åŠ¨è°ƒç”¨å¯¹æ¯”")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataAuditor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compare")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h2",{attrs:{id:"æ•°æ®æ•æ„Ÿè¯è¿‡æ»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®æ•æ„Ÿè¯è¿‡æ»¤"}},[t._v("#")]),t._v(" æ•°æ®æ•æ„Ÿè¯è¿‡æ»¤")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-sensitive-words",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-sensitive-words"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ•°æ®æ•æ„Ÿè¯è¿‡æ»¤ï¼ˆAC ç®—æ³•ï¼‰é…ç½®å®Œå¤„ç†å™¨ï¼Œæ¡†æ¶è‡ªåŠ¨å¤„ç†è¯·æ±‚çš„æ‰€æœ‰å­—ç¬¦ä¸²æ•æ„Ÿè¯è¿‡æ»¤ï¼Œæ”¯æŒåµŒå¥—å…³é”®è¯è®©æ•æ„Ÿè¯æ— å¤„éå½¢ã€‚")]),t._v(" "),a("li",[t._v("æ•°æ®åº“è‡ªç»´æŠ¤æ•æ„Ÿè¯åº“ï¼ˆå…è´¹ã€å¯æ§ï¼‰ï¼Œé»˜è®¤åŠ è½½ç¼“å­˜è¯æ ¹æ”¯æŒæŒ‡å®šé‡æ–°åŠ è½½è¯åº“ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"æ•°æ®èŒƒå›´-æ•°æ®æƒé™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®èŒƒå›´-æ•°æ®æƒé™"}},[t._v("#")]),t._v(" æ•°æ®èŒƒå›´ï¼ˆæ•°æ®æƒé™ï¼‰")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-datascope",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-datascope"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ @DataScope")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("ç±»å‹")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("å¿…é¡»æŒ‡å®š")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("é»˜è®¤å€¼")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),a("td",[t._v("èŒƒå›´ç±»å‹ï¼Œç”¨äºåŒºåˆ†å¯¹äºä¸šåŠ¡åˆ†ç±»ï¼Œé»˜è®¤ç©º")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("DataColumn[]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("{}")]),t._v(" "),a("td",[t._v("æ•°æ®æƒé™å­—æ®µï¼Œæ”¯æŒå¤šå­—æ®µç»„åˆ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ignore")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),a("td",[t._v("å¿½ç•¥æƒé™å¤„ç†é€»è¾‘ true æ˜¯ false å¦")])])])]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ @DataColumn")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("ç±»å‹")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("å¿…é¡»æŒ‡å®š")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("é»˜è®¤å€¼")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("alias")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),a("td",[t._v("å…³è”è¡¨åˆ«å")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("name")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ˜¯")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",[t._v("å­—æ®µå")])])])]),t._v(" "),a("ul",[a("li",[t._v("è¡Œçº§ç²’åº¦æƒé™æ§åˆ¶ï¼Œä¾‹å¦‚ï¼šä¸Šçº§éƒ¨é—¨å¯ä»¥æŸ¥çœ‹å­éƒ¨é—¨ä¿¡æ¯ã€‚")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æµ‹è¯• test ç±»å‹æ•°æ®æƒé™èŒƒå›´ï¼Œæ··åˆåˆ†é¡µæ¨¡å¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@DataScope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³è”è¡¨ user åˆ«å u æŒ‡å®šéƒ¨é—¨å­—æ®µæƒé™")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@DataColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alias "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"department_id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³è”è¡¨ user åˆ«å u æŒ‡å®šæ‰‹æœºå·å­—æ®µï¼ˆè‡ªå·±åˆ¤æ–­å¤„ç†ï¼‰")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@DataColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("alias "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"u"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mobile"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select u.* from user u"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectTestList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IPage")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æµ‹è¯•æ•°æ®æƒé™ï¼Œæœ€ç»ˆæ‰§è¡Œ SQL è¯­å¥")]),t._v("\nSELECT u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("* FROM user u WHERE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("department_id IN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" AND u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mobile LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%1533%'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LIMIT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("å…³äº`IDataScopeProvider`çš„è¯´æ˜:")]),t._v(" "),a("p",[t._v("è¯·æ³¨æ„å¿…é¡»æ³¨å…¥ IDataScopeProvider å®ç°ç±»å¤„ç†æ•°æ®æƒé™ï¼Œå…³äºæ•°æ®ä¼ å‚æ”¯æŒ 2 ç§æ–¹å¼ï¼š\n1ï¼Œè‡ªå®šä¹‰ mapper æ–¹æ³•é€šè¿‡æ–¹æ³•å‚æ•°ä¼ é€’ï¼Œåœ¨ setWhere æ–¹æ³• "),a("code",[t._v("Object[] args")]),t._v(" å‚æ•°ä¸­è·å–\n2ï¼Œåˆ©ç”¨ ThreadLocal ä¼ é€’å‚æ•°ï¼Œä½ å¯ä»¥æ‹¦æˆª controller å±‚æˆ–è€… service å±‚è®¾ç½®æ•°æ®æƒé™å¤„ç†å‚æ•°ï¼Œæ›´å¤šå¯ä»¥ ğŸ‘‰"),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-dynamic-tablename",target:"_blank",rel:"noopener noreferrer"}},[t._v("å‚è€ƒ"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"è¡¨ç»“æ„è‡ªåŠ¨ç»´æŠ¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¡¨ç»“æ„è‡ªåŠ¨ç»´æŠ¤"}},[t._v("#")]),t._v(" è¡¨ç»“æ„è‡ªåŠ¨ç»´æŠ¤")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-ddl-mysql",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-ddl-mysql"),a("OutboundLink")],1),t._v("\nğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-ddl-postgres",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-ddl-postgres"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ•°æ®åº“ "),a("code",[t._v("Schema")]),t._v(" åˆå§‹åŒ–ï¼Œå‡çº§ "),a("code",[t._v("SQL")]),t._v(" è‡ªåŠ¨ç»´æŠ¤ï¼ŒåŒºåˆ«äº "),a("code",[t._v("flyway")]),t._v(" æ”¯æŒåˆ†è¡¨åº“ã€å¯æ§åˆ¶ä»£ç æ‰§è¡Œ SQL è„šæœ¬")]),t._v(" "),a("li",[t._v("é¦–æ¬¡ä¼šåœ¨æ•°æ®åº“ä¸­ç”Ÿæˆ "),a("code",[t._v("ddl_history")]),t._v(" è¡¨ï¼Œæ¯æ¬¡æ‰§è¡ŒSQLè„šæœ¬ä¼šè‡ªåŠ¨ç»´æŠ¤ç‰ˆæœ¬ä¿¡æ¯ã€‚")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MysqlDdl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IDdl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æ‰§è¡Œ SQL è„šæœ¬æ–¹å¼\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSqlFiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"db/tag-schema.sql"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:\\\\db\\\\tag-data.sql"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ‡æ¢åˆ° mysql ä»åº“ï¼Œæ‰§è¡Œ SQL è„šæœ¬")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShardingKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("change")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysqlt2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nddlScript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DELETE FROM user;\\n"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"INSERT INTO user (id, username, password, sex, email) VALUES\\n"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"(20, 'Duo', '123456', 0, 'Duo@baomidou.com');\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("h2",{attrs:{id:"å­—æ®µæ•°æ®ç»‘å®š-å­—å…¸å›å†™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—æ®µæ•°æ®ç»‘å®š-å­—å…¸å›å†™"}},[t._v("#")]),t._v(" å­—æ®µæ•°æ®ç»‘å®šï¼ˆå­—å…¸å›å†™ï¼‰")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-dict",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-dict"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ @FieldBind")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("ç±»å‹")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("å¿…é¡»æŒ‡å®š")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("é»˜è®¤å€¼")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("sharding")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),a("td",[t._v("åˆ†åº“åˆ†è¡¨æ•°æ®æºæŒ‡å®š")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ˜¯")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",[t._v("ç±»å‹ï¼ˆç”¨äºåŒºåˆ†ä¸åŒä¸šåŠ¡ï¼‰")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("target")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ˜¯")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",[t._v("ç›®æ ‡æ˜¾ç¤ºå±æ€§ï¼ˆå¾…ç»‘å®šå±æ€§ï¼Œæ³¨æ„éæ•°æ®åº“å­—æ®µè¯·æ’é™¤ï¼‰")])])])]),t._v(" "),a("ul",[a("li",[t._v("æ•°æ®åº“ "),a("code",[t._v("sex")]),t._v(" å€¼ "),a("code",[t._v("0")]),t._v("ã€"),a("code",[t._v("1")]),t._v(" è‡ªåŠ¨æ˜ å°„ä¸º "),a("code",[t._v("ç”·")]),t._v("ã€"),a("code",[t._v("å¥³")])]),t._v(" "),a("li",[t._v("å¯ä»¥ç»‘å®šæ˜ å°„ä¸ºå¯¹è±¡ï¼Œä¾‹å¦‚ï¼šæ ¹æ®è®¢å• ID æ˜ å°„ è®¢å•å¯¹è±¡æˆ–è€…ç¼–å·")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FieldBind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_sex"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sexText"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»‘å®šæ˜¾ç¤ºå±æ€§ï¼Œéè¡¨å­—å…¸ï¼ˆæ’é™¤ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@TableField")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" sexText"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("ul",[a("li",[t._v("ç»‘å®šä¸šåŠ¡å¤„ç†ç±»éœ€è¦å®ç° IDataBind æ¥å£ï¼Œæ³¨å…¥ spring å®¹å™¨")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataBind")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IDataBind")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"è™šæ‹Ÿå±æ€§ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿå±æ€§ç»‘å®š"}},[t._v("#")]),t._v(" è™šæ‹Ÿå±æ€§ç»‘å®š")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-jsonbind",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-jsonbind"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ @JsonBind")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@JsonBind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç»‘å®šç±»å‹"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[t._v("è¿”å› Json è™šæ‹Ÿå±æ€§ç»‘å®šç­–ç•¥")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JsonBindStrategy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IJsonBindStrategy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStrategyFunctionMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨å…¥è™šæ‹ŸèŠ‚ç‚¹")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("departmentRole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æšä¸¾ç±»å‹è½¬æ¢")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"statusText"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StatusEnum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDesc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯è°ƒç”¨æ•°æ®åº“æŸ¥è¯¢è§’è‰²ä¿¡æ¯")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"roleName"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç»ç†"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h2",{attrs:{id:"å­—æ®µåŠ å¯†è§£å¯†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—æ®µåŠ å¯†è§£å¯†"}},[t._v("#")]),t._v(" å­—æ®µåŠ å¯†è§£å¯†")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-encrypt",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-encrypt"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ @FieldEncrypt")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("ç±»å‹")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("å¿…é¡»æŒ‡å®š")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("é»˜è®¤å€¼")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("password")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),a("td",[t._v("åŠ å¯†å¯†ç ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("algorithm")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Algorithm")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PBEWithMD5AndDES")]),t._v(" "),a("td",[t._v("PBE MD5 DES æ··åˆç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("encryptor")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Class")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("IEncryptor")]),t._v(" "),a("td",[t._v("åŠ å¯†å¤„ç†å™¨")])])])]),t._v(" "),a("ul",[a("li",[t._v("ç®—æ³• Algorithm")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("ç®—æ³•")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MD5_32")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("32 ä½ md5 ç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MD5_16")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("16 ä½ md5 ç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("BASE64")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("64 ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºä»»æ„äºŒè¿›åˆ¶æ•°æ®ç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("AES")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("AES å¯¹ç§°ç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("RSA")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("éå¯¹ç§°åŠ å¯†ç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SM2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å›½å¯† SM2 éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ŒåŸºäº ECC")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SM3")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å›½å¯† SM3 æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼Œå¯ä»¥ç”¨ MD5 ä½œä¸ºå¯¹æ¯”ç†è§£")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SM4")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å›½å¯† SM4 å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œæ— çº¿å±€åŸŸç½‘æ ‡å‡†çš„åˆ†ç»„æ•°æ®ç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PBEWithMD5AndDES")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ··åˆç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PBEWithMD5AndTripleDES")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ··åˆç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PBEWithHMACSHA512AndAES_256")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ··åˆç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PBEWithSHA1AndDESede")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ··åˆç®—æ³•")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PBEWithSHA1AndRC2_40")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ··åˆç®—æ³•")])])])]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/%E5%9B%BD%E5%AF%86SM2.3.4%E7%AE%97%E6%B3%95%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83",target:"_blank",rel:"noopener noreferrer"}},[t._v("å›½å¯† SM2.3.4 ç®—æ³•ä½¿ç”¨è§„èŒƒ"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("MD5 ç®—æ³•ä¸ºä¸å¯é€†ç®—æ³•ï¼Œå­˜å‚¨æ•°æ®åº“åŠæŸ¥è¯¢ç»“æœéƒ½æ˜¯å¯†æ–‡\nSM4 ç®—æ³•å¿…é¡»ä¾èµ– bouncycastle åŠ å¯†åº“\næ··åˆç®—æ³•å¿…é¡»ä¾èµ– jasypt åŠ å¯†åº“\nã€æ³¨æ„ã€‘æŸ¥è¯¢è¿”å›åŠ å¯†å¯¹è±¡å¿…é¡»åŒ…å«"),a("code",[t._v("åŠ å¯†æ³¨è§£")]),t._v("ä¿¡æ¯ï¼Œå•çº¯çš„è¿”å›æŸä¸ª String æˆ–è€… List æŸä¸ªé›†åˆæ˜¯æ— æ³•è§£å¯†çš„ã€‚")])]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ "),a("code",[t._v("FieldEncrypt")]),t._v(" å®ç°æ•°æ®åŠ è§£å¯†ï¼Œæ”¯æŒå¤šç§åŠ å¯†ç®—æ³•")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FieldEncrypt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"å­—æ®µè„±æ•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­—æ®µè„±æ•"}},[t._v("#")]),t._v(" å­—æ®µè„±æ•")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-sensitive-jackson",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-sensitive-jackson"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("p",[t._v("æ³¨è§£ @FieldSensitive")])]),t._v(" "),a("li",[a("p",[t._v("æ³¨è§£ "),a("code",[t._v("FieldSensitive")]),t._v(" å®ç°æ•°æ®è„±æ•ï¼Œå†…ç½® "),a("code",[t._v("æ‰‹æœºå·")]),t._v("ã€"),a("code",[t._v("é‚®ç®±")]),t._v("ã€"),a("code",[t._v("é“¶è¡Œå¡å·")]),t._v(" ç­‰ 9 ç§å¸¸ç”¨è„±æ•è§„åˆ™")])])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FieldSensitive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testStrategy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SensitiveStrategyConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æ³¨å…¥è„±æ•ç­–ç•¥\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ISensitiveStrategy")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sensitiveStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‡ªå®šä¹‰ testStrategy ç±»å‹è„±æ•å¤„ç†")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SensitiveStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testStrategy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"***test***"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·³è¿‡è„±å¯†å¤„ç†ï¼Œç”¨äºç¼–è¾‘åœºæ™¯")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestDataTransfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("skipSensitive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h2",{attrs:{id:"å¤šæ•°æ®æºåˆ†åº“åˆ†è¡¨-è¯»å†™åˆ†ç¦»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæ•°æ®æºåˆ†åº“åˆ†è¡¨-è¯»å†™åˆ†ç¦»"}},[t._v("#")]),t._v(" å¤šæ•°æ®æºåˆ†åº“åˆ†è¡¨ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-sharding",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-sharding"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("æ³¨è§£ @Sharding")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("å±æ€§")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("ç±»å‹")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("å¿…é¡»æŒ‡å®š")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("é»˜è®¤å€¼")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("æ˜¯")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),a("td",[t._v("åˆ†åº“ç»„åï¼Œç©ºä½¿ç”¨é»˜è®¤ä¸»æ•°æ®æº")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("strategy")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Class")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("å¦")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("RandomShardingStrategy")]),t._v(" "),a("td",[t._v("åˆ†åº“&åˆ†è¡¨ç­–ç•¥")])])])]),t._v(" "),a("ul",[a("li",[t._v("é…ç½®")])]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("mybatis-mate:\n  sharding:\n    health: true # å¥åº·æ£€æµ‹\n    primary: mysql # é»˜è®¤é€‰æ‹©æ•°æ®æº\n    datasource:\n      mysql: # æ•°æ®åº“ç»„\n        - key: node1\n          ...\n        - key: node2\n          cluster: slave # ä»åº“è¯»å†™åˆ†ç¦»æ—¶å€™è´Ÿè´£ sql æŸ¥è¯¢æ“ä½œï¼Œä¸»åº“ master é»˜è®¤å¯ä»¥ä¸å†™\n          ...\n      postgres:\n        - key: node1 # æ•°æ®èŠ‚ç‚¹\n          ...\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("ul",[a("li",[t._v("æ³¨è§£ "),a("code",[t._v("Sharding")]),t._v(" åˆ‡æ¢æ•°æ®æºï¼Œç»„å†…èŠ‚ç‚¹é»˜è®¤éšæœºé€‰æ‹©ï¼ˆæŸ¥ä»å†™ä¸»ï¼‰")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Mapper")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Sharding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserMapper")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseMapper")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Sharding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"postgres"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectByUsername")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("ul",[a("li",[t._v("åˆ‡æ¢æŒ‡å®šæ•°æ®åº“èŠ‚ç‚¹")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ‡æ¢åˆ° mysql ä»åº“ node2 èŠ‚ç‚¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShardingKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("change")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysqlnode2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"å¤šæ•°æ®æºåŠ¨æ€åŠ è½½å¸è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæ•°æ®æºåŠ¨æ€åŠ è½½å¸è½½"}},[t._v("#")]),t._v(" å¤šæ•°æ®æºåŠ¨æ€åŠ è½½å¸è½½")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-sharding-dynamic",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-sharding-dynamic"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"å¤šæ•°æ®æºäº‹åŠ¡-jta-atomikos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæ•°æ®æºäº‹åŠ¡-jta-atomikos"}},[t._v("#")]),t._v(" å¤šæ•°æ®æºäº‹åŠ¡ï¼ˆ jta atomikosï¼‰")]),t._v(" "),a("p",[t._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-mate-examples/tree/master/mybatis-mate-sharding-jta-atomikos",target:"_blank",rel:"noopener noreferrer"}},[t._v("mybatis-mate-sharding-jta-atomikos"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);