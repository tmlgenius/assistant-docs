(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{474:function(s,t,a){"use strict";a.r(t);var n=a(26),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ul",[a("li",[a("code",[s._v("3.5.3 +")]),s._v(" ç‰ˆæœ¬æ”¯æŒ")])]),s._v(" "),a("p",[s._v("æ•°æ®åº“ "),a("code",[s._v("DDL")]),s._v(" è¡¨ç»“æ„æ‰§è¡Œ "),a("code",[s._v("SQL")]),s._v(" è‡ªåŠ¨ç»´æŠ¤åŠŸèƒ½")]),s._v(" "),a("p",[s._v("ğŸ‘‰ "),a("a",{attrs:{href:"https://gitee.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-ddl-mysql",target:"_blank",rel:"noopener noreferrer"}},[s._v("mybatis-plus-sample-ddl-mysql"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("æ•°æ®åº“ "),a("code",[s._v("Schema")]),s._v(" åˆå§‹åŒ–ï¼Œå‡çº§ "),a("code",[s._v("SQL")]),s._v(" è‡ªåŠ¨ç»´æŠ¤ï¼ŒåŒºåˆ«äº "),a("code",[s._v("flyway")]),s._v(" æ”¯æŒåˆ†è¡¨åº“ã€å¯æ§åˆ¶ä»£ç æ‰§è¡Œ SQL è„šæœ¬")]),s._v(" "),a("li",[s._v("é¦–æ¬¡ä¼šåœ¨æ•°æ®åº“ä¸­ç”Ÿæˆ "),a("code",[s._v("ddl_history")]),s._v(" è¡¨ï¼Œæ¯æ¬¡æ‰§è¡Œ "),a("code",[s._v("SQLè„šæœ¬")]),s._v(" ä¼šè‡ªåŠ¨ç»´æŠ¤ç‰ˆæœ¬ä¿¡æ¯ã€‚")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),a("p",[s._v("éœ€è¦æ³¨æ„çš„æ˜¯é’ˆå¯¹å½“å‰æ•°æ®æºæ‰§è¡Œ "),a("code",[s._v("DDL")]),s._v(" å¦‚æœè„šæœ¬ä¸­å­˜åœ¨åˆ‡æ¢æ•°æ®æºåˆ›å»ºæ•°æ®åº“æ“ä½œå¯èƒ½ä¼šå¼‚å¸¸ã€‚")]),s._v(" "),a("p",[s._v("ä¸åŒæ•°æ®åº“éœ€è¦åˆ‡æ¢æ•°æ®æºååŠ¨æ€æ‰§è¡Œè„šæœ¬å‘½ä»¤å³å¯ã€‚")]),s._v(" "),a("p",[s._v("è¯¥åŠŸèƒ½ä¸º "),a("code",[s._v("ä¼ä¸šçº§é«˜çº§ç‰¹æ€§")]),s._v(" å¼€æºç‰ˆ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MysqlDdl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IDdl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * æ‰§è¡Œ SQL è„šæœ¬æ–¹å¼\n     */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSqlFiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("asList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"db/tag-schema.sql"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:\\\\db\\\\tag-data.sql"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ‡æ¢åˆ° mysql ä»åº“ï¼Œæ‰§è¡Œ SQL è„šæœ¬")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ShardingKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("change")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysqlt2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nddlScript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DELETE FROM user;\\n"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"INSERT INTO user (id, username, password, sex, email) VALUES\\n"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"(20, 'Duo', '123456', 0, 'Duo@baomidou.com');\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);